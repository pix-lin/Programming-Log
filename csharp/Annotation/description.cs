using System;

namespace GameDev.Tips
{
    // 클래스 시작! (모든 변수와 함수는 이 안으로 들어와야 합니다)
    public class PlayerCombat
    {
        // ================================================================
        // 1. #region : 코드 접기 기능
        // 설명: 코드가 길어질 때 성격이 같은 것끼리 묶어서 접어둘 수 있습니다.
        //      왼쪽의 [-] 버튼을 누르면 이 부분이 한 줄로 깔끔하게 접힙니다.
        // ================================================================
        #region [데이터] 플레이어 핵심 스탯 모음 (접으려면 클릭)

        /// <summary>
        /// 플레이어의 현재 체력입니다.
        /// </summary>
        private int hp = 100;

        /// <summary>
        /// 플레이어의 방어력입니다. 데미지 계산 시 차감됩니다.
        /// </summary>
        private int defense = 10;

        #endregion

        // ================================================================
        // 2. XML 문서 주석 (핵심 5총사)
        // 설명: 이 함수 위에 마우스를 올리면 뜨는 '설명서'를 작성합니다.
        // ================================================================

        /// <summary>
        /// [요약] 적에게 데미지를 입히는 메서드입니다. (마우스 올리면 가장 먼저 보임)
        /// </summary>
        /// 
        /// <remarks>
        /// [상세 설명] 
        /// 이 메서드는 단순히 데미지만 주는 것이 아니라, 회피 확률도 계산합니다.<br/>
        /// (줄바꿈하려면 br 태그를 씁니다)<br/>
        /// <b>주의:</b> 공격력이 0이면 호출하지 마세요. (굵은 글씨는 b 태그)<br/>
        /// 
        /// [참조 링크]
        /// 이 기능은 내부적으로 <see cref="CalculateDefense"/> 함수를 참조합니다.
        /// (cref에 적은 코드를 Ctrl+클릭하면 거기로 이동할 수 있습니다)
        /// </remarks>
        /// 
        /// <param name="targetName">[매개변수 설명] 공격할 적의 이름입니다.</param>
        /// <param name="damage">[매개변수 설명] 입힐 데미지 수치입니다.</param>
        /// 
        /// <returns>
        /// [반환값 설명] 공격이 성공(적중)했으면 true, 빗나갔으면 false를 반환합니다.
        /// </returns>
        public bool Attack(string targetName, int damage)
        {
            Console.WriteLine($"{targetName}을(를) 공격!");

            // 설명용 가짜 로직
            if (damage < 0) return false;
            return true;
        }

        /// <summary>
        /// 방어력을 계산하는 보조 함수
        /// </summary>
        private void CalculateDefense()
        {
            // 위 <see cref="..."> 에서 여기로 링크가 걸립니다.
        }


        // ================================================================
        // 3. #if : 조건부 컴파일 (전처리 지시문)
        // 설명: 특정 상황(Debug 모드 등)에서만 코드를 살리고 싶을 때 씁니다.
        // ================================================================

        public void CheatKey()
        {
            // #if DEBUG 사이에 있는 코드는 '디버그 모드'일 때만 활성화됩니다.
            // 배포용(Release)으로 빌드하면 이 코드는 아예 삭제되어 해킹을 방지합니다.
#if DEBUG
            Console.WriteLine("[관리자 모드] 체력이 무한이 되었습니다.");
            hp = 99999;     // 이제 같은 클래스 안에 있으니 에러 안 남!
            defense = 99999;
#endif
        }

    } // 클래스 끝 (모든 멤버는 이 괄호 안에 있어야 함)
}